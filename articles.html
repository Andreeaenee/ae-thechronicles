<!DOCTYPE html>
<html lang="ro">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AE Chronicles - Art, Fashion, Reflection</title>
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="assets/icons/AE-16x16.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="assets/icons/AE-32x32.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/icons/AE-iphone-size.png"
    />
    <link rel="stylesheet" href="styles/main.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      .article-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
        padding: 2rem 0;
      }

      .article-card {
        position: relative;
        display: block;
        overflow: hidden;
        border-radius: 8px;
        transition: transform 0.3s ease;
      }

      .article-card:hover {
        transform: translateY(-5px);
      }

      .article-card img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 8px;
      }
      .all-articles {
        padding: 4rem 2rem;
        max-width: 1200px;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>
    <!-- Navigation Section -->
    <nav class="main-nav">
      <div class="nav-container">
        <div class="nav-logo">AE</div>
        <ul class="nav-links">
          <li><a href="./index.html">Acasă</a></li>
          <li class="nav-tags">
            <span>Articole</span>
            <ul class="dropdown">
              <!-- Change the filter buttons in navigation -->
              <li>
                <a href="?filter=reflection" class="filter-btn">Reflecții</a>
              </li>
              <li>
                <a href="./articles.html?filter=fashion" class="filter-btn"
                  >Fashion</a
                >
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Main -->
    <main class="articles-main">
      <section class="all-articles">
        <h2 class="section-title" style="margin-left: 0px">Articole</h2>
        <div class="article-grid">
          <!-- Reflection Articles -->
          <a
            href="articles/de-ce.html"
            class="article-card"
            data-tag="reflection"
          >
            <div class="badge">Reflecții</div>
            <img src="assets/images/covers/1cover.png" alt="Post 1" />
            <div class="article-info">
              <h3>De ce?</h3>
            </div>
          </a>

          <a
            href="articles/lista-cu-liste.html"
            class="article-card"
            data-tag="reflection"
          >
            <div class="badge">Reflecții</div>
            <img src="assets/images/covers/2cover.png" alt="Post 2" />
            <div class="article-info">
              <h3>Lista cu liste</h3>
            </div>
          </a>

          <!-- Fashion Article -->
          <a
            href="articles/accent-de-rosu.html"
            class="article-card"
            data-tag="fashion"
          >
            <div class="badge">Fashion</div>
            <img src="assets/images/covers/3cover.png" alt="Post 3" />
            <div class="article-info">
              <h3>Accent de roșu</h3>
            </div>
          </a>
        </div>
      </section>
    </main>

    <!-- Footer Section -->
    <div class="footer-content">
      <div class="footer-left">
        © 2025 AE – Toate drepturile rezervate, cu excepția dreptului de a fi
        glorios de imperfectă.
      </div>
      <div class="footer-right">
        <a href="https://www.instagram.com/andreeae.ene/" target="_blank">
          <img src="assets/icons/InstagramIcon.png" alt="Instagram" />
        </a>
        <a href="https://ro.pinterest.com/andreaaene12/" target="_blank">
          <img src="assets/icons/PinterestPng.png" alt="Pinterest" />
        </a>
      </div>
    </div>

    <script src="scripts/main.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        // Updated valid filters
        const validFilters = ['reflection', 'fashion', 'cinematografie', 'all'];
        const urlParams = new URLSearchParams(window.location.search);
        const filter = urlParams.get('filter') || 'all';

        if (!validFilters.includes(filter)) {
          window.location.replace('/404.html?reason=invalid_filter');
          return;
        }

        const titleMap = {
          reflection: '🖋️ Reflecții',
          fashion: '👗 Modă',
          all: '📚 Toate Articolele',
        };

        const sectionTitle = document.querySelector('.section-title');
        sectionTitle.textContent = titleMap[filter] || 'Articole';

        // Filter articles
        document.querySelectorAll('.article-card').forEach((card) => {
          card.style.display =
            filter === 'all' || card.dataset.tag === filter ? 'block' : 'none';
        });

        // Update active filter
        document.querySelectorAll('.filter-btn').forEach((btn) => {
          const btnFilter = new URL(btn.href).searchParams.get('filter');
          if (btnFilter === filter) btn.classList.add('active-filter');
        });
      });
    </script>
  </body>
</html>
